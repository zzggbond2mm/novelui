# 小说拆分工具

## 项目介绍
这是一个用于将长篇小说拆分成多个小型Markdown文档的Python工具。主要用于处理日语和韩语小说的拆分，便于后续翻译处理。

## 功能特点
- 支持EPUB和TXT格式的小说文件
- 按段落智能拆分，不破坏完整句子
- 控制每个拆分文档的字数在600-800字之间
- 保留原文格式和章节结构
- 自动生成拆分后的文档索引
- 支持自动模式，按照指定目录结构处理文件

## 使用方法

### 自动模式（推荐）
直接运行以下命令，工具会自动处理`程序端\程序\韩文稿\日韩小说原始文档`目录下的所有EPUB和TXT文件，并将拆分结果保存到`程序端\程序\韩文稿\[小说名]`目录下：

```
python novel_splitter.py -a
```

### 手动模式
如果需要处理特定文件或目录，可以使用以下命令：

```
python novel_splitter.py -i 输入文件路径 -o 输出目录 -l 语言
```

参数说明：
- `-i` 或 `--input`：输入文件或目录路径
- `-o` 或 `--output`：输出目录路径（可选，默认为小说名）
- `-l` 或 `--language`：原文语言，可选值为`ja`(日语)或`ko`(韩语)（可选，会尝试自动判断）
- `-a` 或 `--auto`：使用自动模式

## 目录结构
- 输入目录: `程序端\程序\韩文稿\日韩小说原始文档`
- 输出目录: `程序端\程序\韩文稿\[小说名]`

## 技术实现
- 使用`ebooklib`库处理EPUB格式文件
- 采用自然语言处理技术识别句子和段落边界
- 针对日语和韩语的特殊处理逻辑
- 使用正则表达式进行文本分析和处理

## 安装依赖
```
pip install ebooklib beautifulsoup4 regex
```
或者
```
pip install -r requirements.txt
```

## 示例

```
# 自动模式
python novel_splitter.py -a

# 手动处理单个文件
python novel_splitter.py -i "程序端\程序\韩文稿\日韩小说原始文档\神经外科医生朴宰贤.txt" -l ko

# 手动处理目录
python novel_splitter.py -i "程序端\程序\韩文稿\日韩小说原始文档" -l ko
```

## 注意事项
- 拆分后的文件会按照"原文件名_序号.md"格式命名
- 同时会生成索引文件"原文件名_index.md"
- 程序会自动创建输出目录
- 对于特殊格式的文本可能需要手动调整
